<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>tehsu</title><link>/</link><description>Recent content on tehsu</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 26 Jun 2022 18:19:07 -0500</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Replace A Failed Disk In A MD Raid (RAID1)</title><link>/posts/replace-failed-mdraid/</link><pubDate>Sun, 26 Jun 2022 18:19:07 -0500</pubDate><guid>/posts/replace-failed-mdraid/</guid><description>This post will cover how to replace a failed disk in a MD RAID1.
Mark the disk failed mdadm --manage /dev/md0 --fail /dev/sdb1 Verify that this disk has been marked as failed. # cat /proc/mdstat Personalities : [linear] [multipath] [raid0] [raid1] [raid5] [raid4] [raid6] [raid10] md0 : active raid1 sda1[0] sdb1[2](F) 976773168 blocks [2/1] [U_] Remove the disk from the RAID mdadm --manage /dev/md0 --remove /dev/sdb1 Copy the partition sfdisk -d /dev/sda | sfdisk /dev/sdb Add the disk to the RAID mdadm --manage /dev/md0 --add /dev/sdb1 Verify!</description></item><item><title>mdraid and how to fix the superblock</title><link>/posts/mdraid-fix-superblock/</link><pubDate>Sun, 26 Jun 2022 17:44:14 -0500</pubDate><guid>/posts/mdraid-fix-superblock/</guid><description>If you’re using a disk that has been part of a RAID and you can’t find the dev device after a re-format &amp;amp; re-partition then it may need to have it’s superblock erased.
How To Check The Super Block Using Mdadm By running the following command, you can see that it is still apart of a raid, even after a format and erasing all the partitions.
mdadm -Evvv /dev/sda /dev/sda: Magic : xxxx Version : 1.</description></item><item><title>Automate MySQL Backups using Docker</title><link>/posts/docker-mysql-backup/</link><pubDate>Sun, 26 Jun 2022 17:43:37 -0500</pubDate><guid>/posts/docker-mysql-backup/</guid><description>We’re able to backup our MySQL or MariaDB databases on a schedule using the following docker image
https://github.com/tehsu/docker-backup-mysql</description></item><item><title>"INVALID OR CORRUPTED PACKAGE (PGP SIGNATURE)" FIX IN ARCH</title><link>/posts/fix-arch-corrupt/</link><pubDate>Sat, 18 Jun 2022 02:00:20 -0500</pubDate><guid>/posts/fix-arch-corrupt/</guid><description>Sometimes I get an error like such, “error: failed to commit transaction (invalid or corrupted package)” in Arch Linux when updating a package, recently it was cdrtools causing my pain.
To fix this, run the following, sudo pacman -S archlinux-keyring</description></item><item><title>Install Proxmox Without IPMI (OVH)</title><link>/posts/proxmox-without-ipmi/</link><pubDate>Sun, 27 Feb 2022 05:34:09 -0600</pubDate><guid>/posts/proxmox-without-ipmi/</guid><description>** This still works but OVH now supports free IPMI on their SyS line.
Usually you have the option to use IPMI and install your own OS on the Dedi that you ordered. With SoYouStart, that option cost money, about 30 dollars a day. So, in this we’ll go over how to install proxmox 6/7 using kvm.
The first step is to go to the SYS console and reboot the server into rescue mode.</description></item><item><title>Automated Postgres Backups using Docker</title><link>/posts/postgres-docker-backups/</link><pubDate>Sun, 27 Feb 2022 04:37:49 -0600</pubDate><guid>/posts/postgres-docker-backups/</guid><description>This section we’ll go over running backups for postgres running in docker.
A few things, since I am running rclone as the backend for the filesystem here, we can’t do hardlinks.
My docker image here, https://hub.docker.com/r/tehsu/docker-postgres-backup-local is built with a cp rather than a symlink.
I plan to add checks to see if hardlinks are available, if they are then we’d continue to use symlinks otherwise we’d need to copy the file.</description></item></channel></rss>